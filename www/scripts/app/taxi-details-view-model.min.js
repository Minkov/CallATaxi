var app=app||{};(function(n){function i(i){kendo.bind(i.view.element,t);var r=i.view.params.taxiId;httpRequest.getJSON(n.servicesUrl+"taxis/"+r).then(function(n){var i=t,r=[{type:"Per km",costs:{daily:n.DailyKmFare.toFixed(2),nightly:n.NightlyKmFare.toFixed(2)}},{type:"Booking",costs:{daily:n.DailyBookingFare.toFixed(2),nightly:n.NightlyBookingFare.toFixed(2)}},{type:"Initial",costs:{daily:n.DailyInitialFare.toFixed(2),nightly:n.NightlyInitialFare.toFixed(2)}},{type:"Per minute",costs:{daily:n.DailyMinFare.toFixed(2),nightly:n.NightlyMinFare.toFixed(2)}}];i.set("taxi.id",n.Id);i.set("taxi.name",n.Name);i.set("taxi.description",n.Description);i.set("taxi.telephone",n.Telephone);i.set("taxi.callTelephone","tel:"+n.Telephone);i.set("taxi.getPhoneString","Call "+n.Telephone);i.set("taxi.website",n.Website);i.set("taxi.likes",n.Likes);i.set("taxi.dislikes",n.Dislikes);i.set("taxi.fares",r);console.log(n)})}var t=kendo.observable({taxi:{id:-1,name:"",telephone:"",getPhoneString:"",callTelephone:"",website:"",description:"",likes:0,dislikes:0,fares:[],callPhone:function(){return"tel:"+t.get("taxi.telephone")}},like:function(){var n=t,i=n.get("taxi.id");httpRequest.putJSON(app.servicesUrl+"taxis/"+i+"/like",{},{"x-phoneId":window.phoneId}).then(function(){var n=t,i=n.get("taxi.likes");n.set("taxi.likes",i+1)})},dislike:function(){var n=t,i=n.get("taxi.id");httpRequest.putJSON(app.servicesUrl+"taxis/"+i+"/dislike",{},{"x-phoneId":window.phoneId}).then(function(){var n=t,i=n.get("taxi.dislikes");n.set("taxi.dislikes",i+1)})}});n.taxiDetails={init:i}})(app);
//# sourceMappingURL=taxi-details-view-model.min.js.map